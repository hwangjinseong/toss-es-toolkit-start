import {
  AbortError
} from "./chunk-DXB7EZUQ.mjs";

// src/promise/delay.ts
function delay(ms, { signal } = {}) {
  return new Promise((resolve, reject) => {
    const abortError = () => {
      reject(new AbortError());
    };
    const abortHandler = () => {
      clearTimeout(timeoutId);
      abortError();
    };
    if (signal == null ? void 0 : signal.aborted) {
      return abortError();
    }
    const timeoutId = setTimeout(resolve, ms);
    signal == null ? void 0 : signal.addEventListener("abort", abortHandler, { once: true });
  });
}

export {
  delay
};
//# sourceMappingURL=chunk-O64NE2P4.mjs.map